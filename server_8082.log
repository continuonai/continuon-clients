DEBUG: CMS MODULE LOADED FROM /home/craigm26/Downloads/ContinuonXR/continuonbrain/hope_impl/cms.py
[DEBUG] server_routes imported from: /home/craigm26/Downloads/ContinuonXR/continuonbrain/server/routes.py
  Detected Hailo AI HAT+ (1 device(s)) - enabling offloading
  CONTINUON_PREFER_JAX=1 and JAX detected -> skipping transformers chat init; use inference_router for JAX.
 Model selected: JAX CoreModel (backend=jax)
  Failed to start status endpoint: [Errno 98] Address already in use
Initializing Robot Service (MOCK MODE)...

 Initializing episode recorder...
Using MOCK hardware mode
  Using mock microphone capture
Microphone capture initialized
 Episode recorder ready
  Skipping arm/drivetrain init (skip-motion-hw). Motion will stay mock.
 Initializing mode manager...
  Returning to idle...
============================================================
 Mode Change: idle -> idle
============================================================
Time: 2025-12-14 19:34:35
Motion: Disabled
Recording: OFF
Inference: OFF
Self-Training: OFF
============================================================

 Mode manager ready
 Chat-learn scheduler started (thread; settings-gated)
 HOPE autonomous learner supervisor started (thread; mode-gated)
[DEBUG] RunChatLearn called. Turns=20, Model=google/gemma-3n-E2B-it, Delegate=google/gemma-3n-E2B-it
 Autonomy orchestrator started (thread; resource-aware)

============================================================
 Robot Service Ready (MOCK MODE)
============================================================

[DEBUG] RunChatLearn: Starting loop for 20 turns. LogRLDS=True
Web UI: http://localhost:8082/ui
API Endpoint: http://localhost:8082/status
[DEBUG] Loop 0: History=0, Outputs=0
[ChatAdapter] chat() called with model_hint=google/gemma-3n-E2B-it delegate=google/gemma-3n-E2B-it
Using fallback response for chat learning. Model unavailable. Response will not be logged to RLDS to avoid polluting training data.
Using fallback response for chat learning. Model unavailable. Response will not be logged to RLDS to avoid polluting training data.
HUGGINGFACE_TOKEN not set - gated models will not be accessible
[ChatAdapter] Emitting agent_manager event
Skipping RLDS log for fallback response in chat learning session chat_learn_sched_1765769675. Model may not be available. Enable model or fix chat adapter.
Chat learning turn 1: Got fallback response instead of actual conversation. Model may not be available. Skipping RLDS log for this turn.
[DEBUG] Loop 0 END. HistoryLen=2
[DEBUG] Loop 1: History=2, Outputs=1
[ChatAdapter] chat() called with model_hint=google/gemma-3n-E2B-it delegate=google/gemma-3n-E2B-it
Resource level changed: normal -> warning: WARNING: Memory at 97.5% - 201MB available
`torch_dtype` is deprecated! Use `dtype` instead!
Resource level changed: warning -> critical: CRITICAL: Memory at 98.1% - 155MB available
Loading checkpoint shards:   0%|          | 0/3 [00:00<?, ?it/s]Resource level changed: critical -> warning: WARNING: Memory at 97.9% - 166MB available
Loading checkpoint shards:  33%|███▎      | 1/3 [00:06<00:12,  6.10s/it]Loading checkpoint shards:  67%|██████▋   | 2/3 [00:07<00:03,  3.30s/it]Loading checkpoint shards: 100%|██████████| 3/3 [00:09<00:00,  2.77s/it]Loading checkpoint shards: 100%|██████████| 3/3 [00:09<00:00,  3.20s/it]
Resource level changed: warning -> critical: CRITICAL: Memory at 98.1% - 150MB available
Resource level changed: critical -> warning: WARNING: Memory at 97.9% - 166MB available
Resource level changed: warning -> critical: CRITICAL: Memory at 98.2% - 145MB available
Resource level changed: critical -> warning: WARNING: Memory at 96.6% - 273MB available
Resource level changed: warning -> normal: Normal: 709MB available (91.2% used)
Resource level changed: normal -> warning: WARNING: Memory at 95.6% - 351MB available
Resource level changed: warning -> normal: Normal: 456MB available (94.3% used)
Resource level changed: normal -> warning: WARNING: Memory at 95.8% - 340MB available
Resource level changed: warning -> normal: Normal: 409MB available (94.9% used)
Resource level changed: normal -> warning: WARNING: Memory at 96.7% - 265MB available
Resource level changed: warning -> critical: CRITICAL: Memory at 98.1% - 154MB available
Resource level changed: critical -> warning: WARNING: Memory at 97.0% - 243MB available
Resource level changed: warning -> critical: CRITICAL: Memory at 98.3% - 134MB available
Resource level changed: critical -> warning: WARNING: Memory at 97.8% - 179MB available
Resource level changed: warning -> critical: CRITICAL: Memory at 98.3% - 138MB available
Resource level changed: critical -> warning: WARNING: Memory at 97.8% - 180MB available
Resource level changed: warning -> critical: CRITICAL: Memory at 98.2% - 144MB available
Resource level changed: critical -> warning: WARNING: Memory at 97.6% - 196MB available
Resource level changed: warning -> critical: CRITICAL: Memory at 98.2% - 142MB available
Resource level changed: critical -> warning: WARNING: Memory at 97.9% - 172MB available
Resource level changed: warning -> critical: CRITICAL: Memory at 98.2% - 149MB available
Resource level changed: critical -> warning: WARNING: Memory at 98.0% - 162MB available
Resource level changed: warning -> critical: CRITICAL: Memory at 98.1% - 157MB available
Resource level changed: critical -> warning: WARNING: Memory at 98.0% - 163MB available
