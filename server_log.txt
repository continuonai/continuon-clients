DEBUG: CMS MODULE LOADED FROM /home/craigm26/Downloads/ContinuonXR/continuonbrain/hope_impl/cms.py
DEBUG: Loading ui_routes.py with Jinja2 templates
Starting ContinuonBrain Server on port 8080...
Scanning for hardware devices...

âœ… Found: OAK Camera (USB 3.0)
âœ… Found: Hailo AI HAT+ (PCIe)
âœ… Found: Desktop Monitor

============================================================
AGENT SELF-ACTIVATION REPORT
============================================================

SHELL TYPE: Physical Robot (ARM)
   OS: Linux (aarch64)
   Hostname: robot


BRAIN & MEMORY:
   I possess 0 local memories (episodes).
   I am operating on basic logic; no trained models found.

BODY & HARDWARE:
   I see the world through: OAK Camera.
   I have no actuators detected.
   I think fast with: Hailo AI HAT+.
   My PCA9685 wiring for movement is configured:
     - Steering: Channel 0
     - Acceleration: Channel 1

DESIGN & PURPOSE:
   My core directives contain 0 safety rules and 0 instructions.

ready_status: [INGESTION: OK] [PROCESSING: OK] [TASK_CREATION: WAITING]
Status: Awaiting owner instructions in AUTONOMY mode.

============================================================

Agent Manager Settings:
  Thinking Indicator: True
  Intervention Prompts: True
  Confidence Threshold: 0.5
  Status Updates: True
  Autonomous Learning: True
INFO:continuonbrain.resource_monitor:No resource limits config found at /tmp/continuonbrain_demo/config/resource_limits.json, using defaults
INFO:continuonbrain.resource_monitor:Resource Monitor initialized: System reserve 2000MB, Brain max 2000MB
INFO:continuonbrain.services.brain_service:ðŸ“Š Resource Monitor initialized: {'level': 'normal', 'memory_percent': 57.3, 'available_mb': 3439, 'swap_percent': 13.5, 'checkpoints_mb': 0.0, 'can_allocate': True, 'message': 'Normal: 3439MB available (57.3% used)', 'limits': {'system_reserve_mb': 2000, 'max_brain_mb': 2000}}
INFO:continuonbrain.services.brain_service:ðŸ“š Experience logger initialized for active learning
INFO:continuonbrain.services.brain_service:ðŸ’¬ Conversation session management initialized
INFO:continuonbrain.services.brain_service:ðŸ¤– Personality initialized: PersonalityConfig(humor_level=0.5, sarcasm_level=0.5, empathy_level=0.5, verbosity_level=0.5, system_name='robot', identity_mode='Adaptive')
WARNING:continuonbrain.services.chat.litert_chat:mediapipe-genai missing. Using MOCK LiteRT mode for verification.
INFO:continuonbrain.services.brain_service:Loaded agent settings: {'agent_model': 'hope-v1', 'enable_thinking_indicator': True, 'enable_intervention_prompts': True, 'intervention_confidence_threshold': 0.5, 'enable_status_updates': True, 'enable_autonomous_learning': True, 'autonomous_learning_steps_per_cycle': 100, 'autonomous_learning_checkpoint_interval': 1000, 'chat_learn': {'enabled': False, 'interval_s': 600, 'turns_per_cycle': 10, 'model_hint': 'google/gemma-3n-2b', 'delegate_model_hint': '', 'topic': 'coding this repository (ContinuonXR/continuonbrain/continuonai)', 'modes': ['idle']}, 'autonomy_orchestrator': {'enabled': False, 'modes': ['autonomous'], 'min_interval_s': 30, 'cms_compact_every_s': 600, 'hope_eval_every_s': 1800, 'facts_eval_every_s': 3600, 'wavecore_every_s': 1800, 'tool_router_every_s': 3600, 'min_memory_headroom_mb': 512, 'wavecore_steps_fast': 60, 'wavecore_steps_mid': 120, 'wavecore_steps_slow': 180, 'tool_router_steps': 200}}
Initializing Brain Service (REAL HARDWARE MODE)...
Auto-detecting hardware...
Scanning for hardware devices...

âœ… Found: OAK-D Lite (USB 3.0)
âœ… Found: Hailo AI HAT+ (PCIe)
âœ… Found: Desktop Monitor

============================================================
Hardware Detection Summary
============================================================
Total devices found: 4

Ai Accelerator:
  â€¢ Hailo AI HAT+ (pcie)
    Capabilities: ai, inference, neural_network, hailo8

Depth Camera:
  â€¢ OAK-D Lite (usb3: bus_001_dev_021)
    Capabilities: rgb, depth, stereo, ai

Display:
  â€¢ Desktop Monitor (hdmi/dp)
    Capabilities: visual_output

Human Interface:
  â€¢ Keyboard (usb/bt)
    Capabilities: text_input

============================================================

ðŸš€ Re-initializing Chat Agent with Accelerator: Hailo AI HAT+
WARNING:continuonbrain.services.chat.litert_chat:mediapipe-genai missing. Using MOCK LiteRT mode for verification.
Loading Gemma Chat Model...
INFO:continuonbrain.services.chat.litert_chat:Loading LiteRT model via MediaPipe GenAI: /home/craigm26/.cache/huggingface/hub/models--google--gemma-3n-E2B-it-litert-lm/snapshots/c03b6f60b8da6c5400b6838a2cf26420f80c0a01/gemma-3n-E2B-it-int4.litertlm
WARNING:continuonbrain.services.chat.litert_chat:Mocking LiteRT load (GenAI runtime missing).
Initializing episode recorder...
Initializing hardware via ContinuonBrain...
Auto-detecting hardware...
Scanning for hardware devices...

âœ… Found: OAK-D Lite (USB 3.0)
âœ… Found: Hailo AI HAT+ (PCIe)
âœ… Found: Desktop Monitor

Using detected OAK-D Lite
 Device connected: OAK-D-LITE
OAK-D started: baseline=7.50cm
OAK-D camera initialized
ERROR: Failed to initialize PCA9685: No I2C device at address: 0x40
  Arm initialization failed (continuing without arm)
Traceback (most recent call last):
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/home/craigm26/Downloads/ContinuonXR/continuonbrain/api/server.py", line 1344, in <module>
    main()
  File "/home/craigm26/Downloads/ContinuonXR/continuonbrain/api/server.py", line 1283, in main
    loop.run_until_complete(brain_service.initialize())
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/home/craigm26/Downloads/ContinuonXR/continuonbrain/services/brain_service.py", line 1424, in initialize
    hardware_ready = self.recorder.initialize_hardware(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/craigm26/Downloads/ContinuonXR/continuonbrain/recording/arm_episode_recorder.py", line 412, in initialize_hardware
    self.microphone = MicrophoneCapture(use_mock=use_mock)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/craigm26/Downloads/ContinuonXR/continuonbrain/recording/arm_episode_recorder.py", line 195, in __init__
    self.sd = _load_sounddevice()
              ^^^^^^^^^^^^^^^^^^^
  File "/home/craigm26/Downloads/ContinuonXR/continuonbrain/recording/arm_episode_recorder.py", line 37, in _load_sounddevice
    return importlib.import_module("sounddevice")
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/home/craigm26/Downloads/ContinuonXR/.venv/lib/python3.11/site-packages/sounddevice.py", line 71, in <module>
    raise OSError('PortAudio library not found')
OSError: PortAudio library not found
profiling:/usr/src/Python-3.11.10/Modules/getpath.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/deepfreeze/deepfreeze.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/xxsubtype.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/pwdmodule.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/symtablemodule.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/_stat.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/_operator.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/_localemodule.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/_functoolsmodule.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/_abc.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/_weakref.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/timemodule.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/_threadmodule.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/_sre/sre.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/itertoolsmodule.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/_io/stringio.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/_io/textio.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/_io/bufferedio.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/_io/bytesio.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/_io/fileio.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/_io/iobase.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/_io/_iomodule.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/errnomodule.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/_collectionsmodule.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/_codecsmodule.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/_tracemalloc.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/signalmodule.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/posixmodule.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/faulthandler.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/atexitmodule.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/gcmodule.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/main.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/dynload_shlib.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/suggestions.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/fileutils.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/formatter_unicode.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/dtoa.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/pystrhex.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/pystrtod.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/pystrcmp.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/getopt.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/traceback.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/thread.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/sysmodule.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/symtable.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/structmember.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/specialize.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/bootstrap_hash.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/pytime.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/pythonrun.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/pystate.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/pylifecycle.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/pyhash.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/pyfpe.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/pyarena.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/preconfig.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/pathconfig.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/mystrtoul.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/mysnprintf.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/modsupport.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/marshal.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/initconfig.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/importdl.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/import.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/hashtable.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/hamt.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/getversion.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/getplatform.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/getcopyright.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/getcompiler.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/getargs.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/future.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/frozenmain.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/frame.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/errors.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/context.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/compile.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/codecs.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/ceval.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/bltinmodule.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/ast_unparse.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/ast_opt.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/ast.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/asdl.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/Python-tokenize.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/Python-ast.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/_warnings.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/weakrefobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/unionobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/unicodectype.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/unicodeobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/typeobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/tupleobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/structseq.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/sliceobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/setobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/rangeobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/picklebufobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/obmalloc.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/object.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/namespaceobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/moduleobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/methodobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/memoryobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/odictobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/dictobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/longobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/listobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/iterobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/interpreteridobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/funcobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/frameobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/floatobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/fileobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/genobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/genericaliasobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/exceptions.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/enumobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/descrobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/complexobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/codeobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/classobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/cellobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/capsule.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/call.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/bytesobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/bytearrayobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/bytes_methods.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/boolobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/accu.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/abstract.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Parser/tokenizer.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Parser/myreadline.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Parser/peg_api.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Parser/string_parser.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Parser/parser.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Parser/action_helpers.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Parser/pegen_errors.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Parser/pegen.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Parser/token.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/getbuildinfo.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Programs/python.gcda:Cannot open
