mediapipe-genai missing. Using MOCK LiteRT mode for verification.
No .litertlm or .tflite file found in google/gemma-3-270m-it snapshot at /home/craigm26/.cache/huggingface/hub/models--google--gemma-3-270m-it/snapshots/ac82b4e820549b854eebf28ce6dedaf9fdfa17b3
DEBUG: CMS MODULE LOADED FROM /home/craigm26/Downloads/ContinuonXR/continuonbrain/hope_impl/cms.py
Initializing BrainService (Mock)...
DEBUG: BrainService.__init__ STARTING
DEBUG: Calling _start_status_pulse
DEBUG: _start_status_pulse returned

--- Starting RunChatLearn ---
[RunChatLearn] Turn 0: subagent=False, flag=False
[RunChatLearn] Local execution for turn 0
[MockLocalLLM] responding to: We are training the HOPE Agent Manager through mul...
[RunChatLearn] Turn 1: subagent=True, flag=True
[RunChatLearn] Delegating turn 1 to Gemini CLI...
  Script: /home/craigm26/Downloads/ContinuonXR/scripts/gemini
  Prompt: What is the capital of France?...
  Env Key Present: True
[RunChatLearn] Gemini delegation error: name 'subprocess' is not defined
[RunChatLearn] Turn 2: subagent=False, flag=False
[RunChatLearn] Local execution for turn 2
[MockLocalLLM] responding to: You are the Agent Manager.
Synthesize the insights...
[RunChatLearn] Turn 3: subagent=True, flag=True
[RunChatLearn] Delegating turn 3 to Gemini CLI...
  Script: /home/craigm26/Downloads/ContinuonXR/scripts/gemini
  Prompt: What is the capital of France?...
  Env Key Present: True
[RunChatLearn] Gemini delegation error: name 'subprocess' is not defined

--- Result ---
{'status': 'ok', 'session_id': 'test_session_1', 'turns': 4, 'results': [{'response': "System Error consulting Gemini: name 'subprocess' is not defined", 'model': 'error'}, {'response': 'What is the capital of France?', 'model': 'mock-gemma'}, {'response': "System Error consulting Gemini: name 'subprocess' is not defined", 'model': 'error'}], 'history': [{'role': 'user', 'content': "We are training the HOPE Agent Manager through multi-agent conversations.\nYou are the Agent Manager (primary orchestrator) with CURIOSITY about the system.\n\nCURIOSITY DIRECTIVE: Be curious about how the system works, what it can learn, and how to improve it.\n\nFor each turn:\n1) As the Agent Manager, be CURIOUS about the system:\n   - What aspects of HOPE's architecture are most interesting or mysterious?\n   - What learning capabilities could be enhanced?\n   - How does the system actually work internally (CMS, WaveCore, symbolic search)?\n   - What patterns emerge from the training data?\n   - How can we make HOPE more helpful through better understanding?\n\n2) Formulate CURIOUS questions that explore:\n   - System internals: How does CMS compaction actually work? What triggers it?\n   - Learning mechanisms: How does WaveCore fast/mid/slow differ? What do they learn?\n   - Symbolic search: How does tool router map language to actions? Can it improve?\n   - Training data: What patterns exist in RLDS episodes? What's missing?\n   - Safety: How are safety policies enforced? Can they be more effective?\n   - Performance: What bottlenecks exist? How can we optimize?\n\n3) Consult the subagent (Gemma 3n) with your curious questions about system internals.\n\n4) As Agent Manager, synthesize the subagent's insights and decide:\n   - What did we learn about how the system works?\n   - How can HOPE learn from this understanding?\n   - What concrete improvements would this enable?\n\n5) Be CURIOUS about learning itself:\n   - How does continuous learning actually happen?\n   - What makes some learning episodes more valuable than others?\n   - How can we make the system more curious and exploratory?\n\nExample curious conversation flow:\n- Agent Manager: 'I'm curious: How does CMS compaction actually consolidate memories? What triggers it, and could we make it more adaptive based on memory pressure patterns?'\n- Subagent: 'CMS compaction uses energy transfer from episodic memory to long-term parameters. It's triggered every 300s, but could be adaptive based on memory usage trends...'\n- Agent Manager: 'Fascinating! So HOPE could learn to predict when compaction is needed and trigger it proactively. This would improve memory efficiency and stability...'\n\nTopic focus: Testing Gemini Integration.\nBe GENUINELY CURIOUS about the system. Ask questions that explore how things work, what could be better, and how learning actually happens.\nEnd each turn with the required structured JSON line.\n"}, {'role': 'assistant', 'content': 'What is the capital of France?'}, {'role': 'user', 'content': "You are the internal Subagent (Gemma 3n) with deep knowledge of system internals.\nAnswer the Agent Manager's question effectively.\nProvide specific technical details about CMS, WaveCore, ToolRouter, or RLDS.\nEnd with the JSON line."}, {'role': 'assistant', 'content': "System Error consulting Gemini: name 'subprocess' is not defined"}, {'role': 'user', 'content': 'You are the Agent Manager.\nSynthesize the insights from the subagent.\nDecide how to improve the system based on this update.\nEnd with the JSON line.'}, {'role': 'assistant', 'content': 'What is the capital of France?'}, {'role': 'user', 'content': "You are the internal Subagent (Gemma 3n) with deep knowledge of system internals.\nAnswer the Agent Manager's question effectively.\nProvide specific technical details about CMS, WaveCore, ToolRouter, or RLDS.\nEnd with the JSON line."}, {'role': 'assistant', 'content': "System Error consulting Gemini: name 'subprocess' is not defined"}]}
profiling:/usr/src/Python-3.11.10/Modules/getpath.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/deepfreeze/deepfreeze.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/xxsubtype.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/pwdmodule.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/symtablemodule.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/_stat.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/_operator.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/_localemodule.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/_functoolsmodule.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/_abc.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/_weakref.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/timemodule.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/_threadmodule.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/_sre/sre.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/itertoolsmodule.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/_io/stringio.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/_io/textio.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/_io/bufferedio.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/_io/bytesio.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/_io/fileio.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/_io/iobase.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/_io/_iomodule.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/errnomodule.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/_collectionsmodule.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/_codecsmodule.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/_tracemalloc.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/signalmodule.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/posixmodule.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/faulthandler.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/atexitmodule.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/gcmodule.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/main.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/dynload_shlib.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/suggestions.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/fileutils.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/formatter_unicode.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/dtoa.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/pystrhex.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/pystrtod.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/pystrcmp.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/getopt.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/traceback.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/thread.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/sysmodule.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/symtable.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/structmember.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/specialize.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/bootstrap_hash.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/pytime.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/pythonrun.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/pystate.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/pylifecycle.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/pyhash.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/pyfpe.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/pyarena.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/preconfig.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/pathconfig.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/mystrtoul.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/mysnprintf.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/modsupport.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/marshal.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/initconfig.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/importdl.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/import.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/hashtable.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/hamt.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/getversion.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/getplatform.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/getcopyright.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/getcompiler.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/getargs.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/future.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/frozenmain.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/frame.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/errors.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/context.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/compile.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/codecs.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/ceval.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/bltinmodule.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/ast_unparse.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/ast_opt.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/ast.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/asdl.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/Python-tokenize.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/Python-ast.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Python/_warnings.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/weakrefobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/unionobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/unicodectype.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/unicodeobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/typeobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/tupleobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/structseq.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/sliceobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/setobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/rangeobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/picklebufobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/obmalloc.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/object.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/namespaceobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/moduleobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/methodobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/memoryobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/odictobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/dictobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/longobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/listobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/iterobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/interpreteridobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/funcobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/frameobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/floatobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/fileobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/genobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/genericaliasobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/exceptions.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/enumobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/descrobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/complexobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/codeobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/classobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/cellobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/capsule.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/call.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/bytesobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/bytearrayobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/bytes_methods.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/boolobject.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/accu.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Objects/abstract.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Parser/tokenizer.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Parser/myreadline.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Parser/peg_api.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Parser/string_parser.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Parser/parser.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Parser/action_helpers.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Parser/pegen_errors.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Parser/pegen.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Parser/token.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Modules/getbuildinfo.gcda:Cannot open
profiling:/usr/src/Python-3.11.10/Programs/python.gcda:Cannot open
