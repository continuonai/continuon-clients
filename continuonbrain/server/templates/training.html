{% extends "base.html" %}

{% block content %}
<div class="panel">
    <div class="panel-header">
        <h2>Training Control Center</h2>
        <div class="status-badge" id="training-status-badge">Unknown</div>
    </div>
    <div class="panel-content">
        <div class="rail-actions">
            <button class="rail-btn primary" onclick="startAutonomousTraining()">‚ñ∂ Start Autonomous Training</button>
            <button class="rail-btn" onclick="startManualTraining()">üõ† Start Manual Training Step</button>
            <button class="rail-btn" onclick="stopTraining()">‚èπ Stop Training</button>
        </div>
        <div style="margin-top: 15px;">
             <h3>WaveCore Loops</h3>
             <div class="rail-actions">
                <button class="rail-btn" onclick="runWaveCoreLoop('fast')">‚ö° Run Fast Loop</button>
                <button class="rail-btn" onclick="runWaveCoreLoop('mid')">üåä Run Mid Loop</button>
                <button class="rail-btn" onclick="runWaveCoreLoop('slow')">üê¢ Run Slow Loop</button>
            </div>
        </div>
    </div>
</div>

<div class="panel">
    <div class="panel-header">
        <h2>Real-time Metrics</h2>
        <button class="rail-btn" onclick="refreshMetrics()">‚Üª Refresh</button>
    </div>
    <div class="panel-content">
        <div class="status-grid" id="metrics-grid">
            <div class="status-item">
                <label>Loss</label>
                <span id="metric-loss">--</span>
            </div>
            <div class="status-item">
                <label>Accuracy</label>
                <span id="metric-accuracy">--</span>
            </div>
             <div class="status-item">
                <label>Steps</label>
                <span id="metric-steps">--</span>
            </div>
             <div class="status-item">
                <label>Episode Reward</label>
                <span id="metric-reward">--</span>
            </div>
        </div>
        <div id="full-metrics-json" style="margin-top: 20px; white-space: pre-wrap; font-family: monospace; background: #111; padding: 10px; border-radius: 4px; display: none;"></div>
    </div>
</div>

<div class="panel">
    <div class="panel-header">
        <h2>Training Logs</h2>
        <button class="rail-btn" onclick="refreshLogs()">‚Üª Refresh Logs</button>
    </div>
    <div class="panel-content">
        <pre id="training-logs" style="height: 300px; overflow-y: auto; background: #000; color: #0f0; padding: 10px; border-radius: 4px; font-family: monospace;">Waiting for logs...</pre>
    </div>
</div>

<script src="/static/training.js"></script>
{% endblock %}
