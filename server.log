DEBUG: CMS MODULE LOADED FROM /home/craigm26/Downloads/ContinuonXR/continuonbrain/hope_impl/cms.py
  Detected Hailo AI HAT+ (1 device(s)) - enabling offloading
HUGGINGFACE_TOKEN not set - gated models will not be accessible
 Model selected: Gemma/transformers (backend=transformers)
  Failed to start status endpoint: [Errno 98] Address already in use
Initializing Robot Service (REAL HARDWARE MODE)...

 Auto-detecting hardware...
Scanning for hardware devices...

✅ Found: OAK Camera (USB 3.0)
✅ Found: Hailo AI HAT+ (PCIe)
✅ Found: Desktop Monitor
 Detected devices: 4
 - HardwareDevice(device_type='depth_camera', name='OAK Camera', vendor='Luxonis', interface='usb3', address='bus_002_dev_002', capabilities=['rgb', 'depth', 'stereo', 'ai'], config={'vendor_id': '03e7', 'product_id': 'f63b', 'driver': 'depthai', 'hailo_offload': True})
 - HardwareDevice(device_type='ai_accelerator', name='Hailo AI HAT+', vendor='Hailo', interface='pcie', address=None, capabilities=['ai', 'inference', 'neural_network', 'hailo8'], config={'model': 'Hailo-8', 'tops': 26, 'driver': 'hailo_platform', 'hailo_offload': True})
 - HardwareDevice(device_type='display', name='Desktop Monitor', vendor='Generic', interface='hdmi/dp', address=None, capabilities=['visual_output'], config={})
 - HardwareDevice(device_type='human_interface', name='Keyboard', vendor='Generic', interface='usb/bt', address=None, capabilities=['text_input'], config={})

 Initializing episode recorder...
 Initializing hardware via ContinuonBrain...
Auto-detecting hardware...
Scanning for hardware devices...

✅ Found: OAK Camera (USB 3.0)
✅ Found: Hailo AI HAT+ (PCIe)
✅ Found: Desktop Monitor

Using detected OAK Camera
  No OAK devices found (DepthAI reported zero devices)
  Camera initialization failed (continuing without camera)
ERROR: Failed to initialize PCA9685: No I2C device at address: 0x40
  Arm initialization failed (continuing without arm)
  Using mock microphone capture
Microphone capture initialized
  Real hardware initialization incomplete
  Falling back to mock mode
Using MOCK hardware mode
  Using mock microphone capture
Microphone capture initialized
 Episode recorder ready
 Initializing drivetrain controller...
ERROR: Failed to initialize drivetrain controller at 0x40 (steering=servo[0], throttle=continuous_servo[1]): No I2C device at address: 0x40
  Drivetrain controller unavailable
 Initializing mode manager...
  Returning to idle...
============================================================
 Mode Change: idle -> idle
============================================================
Time: 2025-12-14 09:59:31
Motion: Disabled
Recording: OFF
Inference: OFF
Self-Training: OFF
============================================================

 Mode manager ready
 Chat-learn scheduler started (thread; settings-gated)
 HOPE autonomous learner supervisor started (thread; mode-gated)
 Autonomy orchestrator started (thread; resource-aware)

============================================================
 Robot Service Ready (MOCK MODE)
============================================================

Web UI: http://localhost:8081/ui
API Endpoint: http://localhost:8081/status
[HTTP] GET /api/status
[HTTP] POST /api/chat
[ChatAdapter] chat() called with model_hint=consult:google/gemma-3n-E2B-it delegate=None
[ChatAdapter] Consulting subagent: consult:google/gemma-3n-E2B-it
`torch_dtype` is deprecated! Use `dtype` instead!
Loading checkpoint shards:   0%|          | 0/3 [00:00<?, ?it/s]Loading checkpoint shards:  33%|███▎      | 1/3 [00:00<00:01,  1.05it/s]Loading checkpoint shards:  67%|██████▋   | 2/3 [00:01<00:00,  2.09it/s]Loading checkpoint shards: 100%|██████████| 3/3 [00:01<00:00,  2.21it/s]Loading checkpoint shards: 100%|██████████| 3/3 [00:01<00:00,  1.97it/s]
